<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signup</title>
    <link rel="stylesheet" href="/styles/login.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/5.0.7-beta.19/jquery.inputmask.min.js"></script>


</head>

<body class="d-flex justify-content-center align-items-center vh-100 bg-light">
    <div id="error-message" style="display: none; background-color: rgb(253, 115, 115);">
        <p id="error-text"></p>
    </div>

    <div class="card p-4 shadow-lg" style="width: 500px;">
        <h2 class="text-center">Crie sua conta aqui!</h2>
        <form id="signupForm" action="/signup" method="POST">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="emailS" class="form-label">Email</label>
                    <input type="email" class="form-control" id="emailS" name="emailS" required>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="nomeUsuario" class="form-label">Nome</label>
                    <input type="text" class="form-control" id="nomeUsuario" name="nomeUsuario" required>
                </div>

                <div class="col-md-6 mb-3">
                    <label for="telefone" class="form-label">Telefone</label>
                    <input type="text" class="form-control" id="telefone" name="telefone" placeholder="(XX) XXXXX-XXXX" required>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="cpf" class="form-label">CPF</label>
                    <input type="text" class="form-control" id="cpf" name="cpf" required>
                </div>

                <div class="col-md-6 mb-3">
                    <label for="dataDeNascimento" class="form-label">Data de Nascimento</label>
                    <input type="date" class="form-control" id="dataDeNascimento" name="dataDeNascimento" required>
                </div>
                <div class="col-md-6 mb-3">
                    <label>Sexo:</label><br>
                    <input type="radio" id="masculino" name="sexo" value="1" required>
                    <label for="masculino">Masculino</label><br>
                
                    <input type="radio" id="feminino" name="sexo" value="2">
                    <label for="feminino">Feminino</label><br>
                
                    <input type="radio" id="outro" name="sexo" value="3">
                    <label for="outro">Outro</label><br><br>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="nacionalidade" class="form-label">Nacionalidade</label>
                    <input type="text" class="form-control" id="nacionalidade" name="nacionalidade" required>
                </div>

                <div class="col-md-6 mb-3">
                    <label for="passwordS" class="form-label">Senha</label>
                    <input type="password" class="form-control" id="passwordS" name="passwordS" required>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="confirmPasswordS" class="form-label">Confirmar Senha</label>
                    <input type="password" class="form-control" id="confirmPasswordS" name="confirmPasswordS" required>
                </div>
            </div>

            <button type="submit" class="btn btn-primary w-100">Criar conta</button>
        </form> <br>
    </div>


    <script>
        $(document).ready(function(){
            $("#telefone").inputmask("(99) 99999-9999");
            $("#cpf").inputmask("999.999.999-99");
        });
    </script>


    <script>
        document.getElementById('signupForm').addEventListener('submit', function(event) {
          const phone = document.getElementById('telefone').value;
          const cpf = document.getElementById('cpf').value;
        
          // Expressão regular para verificar o formato do telefone
          const phoneRegex = /^\(\d{2}\) \d{5}-\d{4}$/;
          // Expressão regular para verificar o formato do CPF
          const cpfRegex = /^\d{3}\.\d{3}\.\d{3}-\d{2}$/;

            // Limpar qualquer mensagem de erro anterior
            const errorMessageDiv = document.getElementById('error-message');
            errorMessageDiv.style.display = 'none';  // Esconde a div de erro
            document.getElementById('error-text').innerText = '';  // Limpa o texto de erro
        
          // Verificação do telefone
          if (!phoneRegex.test(phone)) {
            document.getElementById('error-text').innerText = 'O número de telefone está no formato incorreto. Exemplo: (XX) XXXXX-XXXX';
            errorMessageDiv.style.display = 'block'; // Mostra a div de erro
            event.preventDefault(); // Impede o envio do formulário
            return;
          }
        
          // Verificação do CPF
          if (!cpfRegex.test(cpf)) {
            document.getElementById('error-text').innerText = 'O CPF está no formato incorreto. Exemplo: XXX.XXX.XXX-XX';
            errorMessageDiv.style.display = 'block'; // Mostra a div de erro
            event.preventDefault(); // Impede o envio do formulário
            return;
          }
        
          // Caso tudo esteja correto, o formulário é enviado
          alert('Formulário enviado com sucesso!');
        });
        </script>
</body>
</html>